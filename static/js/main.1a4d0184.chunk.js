(this["webpackJsonpatomic-boilerplate"]=this["webpackJsonpatomic-boilerplate"]||[]).push([[1],{244:function(e){e.exports=JSON.parse('{"$id":"https://worldseed.tech/account.schema.json","title":"World Seed Account","type":"object","definitions":{"world_node":{"$id":"#/definitions/world_node","title":"World","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"}}},"space_node":{"$id":"#/definitions/space_node","title":"Space","type":"object","description":"A portion of a world indexed by a geohash","properties":{"id":{"title":"Geo-Hash","type":"string"},"name":{"type":"string"},"description":{"type":"string"}},"required":["id","name"]},"quaternion":{"$id":"#/definitions/quaternion","title":"Quaternion","type":"array","items":{"minItems":4,"type":"number","maxItems":4}},"geoanchor":{"$id":"#/definitions/geoanchor","title":"GeoAcnchor","type":"object","description":"An anchor at Lat Long, altitude & rotation","properties":{"coordinates":{"title":"XYZ coords","type":"array","items":{"type":"number","minItems":2,"maxItems":3}},"hash":{"title":"Geo Hash of Co-ordinates","type":"string"}},"required":["coordinates","hash"]},"entity":{"$id":"#/definitions/entity","title":"Entity","type":"object","description":"An Entity in a world","properties":{"uuid":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"owner":{"type":"string"},"anchor":{"$ref":"#/definitions/geoanchor"},"offset":{"$ref":"#/definitions/quaternion"}},"required":["type","id","name"]}}}')},322:function(e){e.exports=JSON.parse('{"$id":"https://worldseed.tech/account.schema.json","title":"World Seed Account","type":"object","definitions":{"role":{"$id":"#/definitions/role","title":"Role","type":"string"},"account":{"title":"Account","type":"object","description":"A registered User","properties":{"alias":{"type":"string","description":"Alias of account"},"owner":{"title":"Ethereum Address","type":"string","pattern":"^0x[a-fA-F0-9]{40}$"}},"required":["alias","owner"]}}}')},341:function(e,t,n){var r={"./ion-action-sheet.entry.js":[659,5],"./ion-alert.entry.js":[660,6],"./ion-app_8.entry.js":[661,7],"./ion-avatar_3.entry.js":[662,17],"./ion-back-button.entry.js":[663,18],"./ion-backdrop.entry.js":[664,43],"./ion-button_2.entry.js":[665,19],"./ion-card_5.entry.js":[666,20],"./ion-checkbox.entry.js":[667,21],"./ion-chip.entry.js":[668,22],"./ion-col_3.entry.js":[669,44],"./ion-datetime_3.entry.js":[670,10],"./ion-fab_3.entry.js":[671,23],"./ion-img.entry.js":[672,45],"./ion-infinite-scroll_2.entry.js":[673,46],"./ion-input.entry.js":[674,24],"./ion-item-option_3.entry.js":[675,25],"./ion-item_8.entry.js":[676,26],"./ion-loading.entry.js":[677,27],"./ion-menu_3.entry.js":[678,28],"./ion-modal.entry.js":[679,8],"./ion-nav_2.entry.js":[680,14],"./ion-popover.entry.js":[681,9],"./ion-progress-bar.entry.js":[682,29],"./ion-radio_2.entry.js":[683,30],"./ion-range.entry.js":[684,31],"./ion-refresher_2.entry.js":[685,11],"./ion-reorder_2.entry.js":[686,16],"./ion-ripple-effect.entry.js":[687,47],"./ion-route_4.entry.js":[688,32],"./ion-searchbar.entry.js":[689,33],"./ion-segment_2.entry.js":[690,34],"./ion-select_3.entry.js":[691,35],"./ion-slide_2.entry.js":[692,48],"./ion-spinner.entry.js":[693,13],"./ion-split-pane.entry.js":[694,49],"./ion-tab-bar_2.entry.js":[695,36],"./ion-tab_2.entry.js":[696,15],"./ion-text.entry.js":[697,37],"./ion-textarea.entry.js":[698,38],"./ion-toast.entry.js":[699,39],"./ion-toggle.entry.js":[700,12],"./ion-virtual-scroll.entry.js":[701,50]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=341,e.exports=i},343:function(e,t,n){var r={"./ion-icon.entry.js":[702,57]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=343,e.exports=i},452:function(e,t){},453:function(e,t){},456:function(e,t){},467:function(e,t){},468:function(e,t){},546:function(e,t){},548:function(e,t){},562:function(e,t){},566:function(e,t){},568:function(e,t){},578:function(e,t){},580:function(e,t){},611:function(e,t){},613:function(e,t){},620:function(e,t){},621:function(e,t){},646:function(e,t){},656:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(112),c=n.n(o),s=n(11),a=n(18),l=n(86),d=n(244),j=Object(l.composeStore)({schema:d,definition:"space_info"}),u=Object(l.composeStore)({schema:d,definition:"inventory_item_info"}),b=Object(l.composeStore)({schema:d,definition:"world_info"}),p=n(322),h=Object(l.composeStore)({schema:p,definition:"account"}),f={worldseed:{account:h}},m=n(7),O=n(10),y=n(2),x=n.n(y),g=n(12),v=n(113),w=n(41),_=n(34),k=n.n(_)()((function(e,t){return{status:"disconnected",walletAdapters:{solflare:Object(v.getSolflareWallet)(),sollet:Object(v.getSolletWallet)(),torus:Object(v.getTorusWallet)({options:{clientId:""}}),phantom:Object(v.getPhantomWallet)(),ledger:Object(v.getLedgerWallet)()},connect:function(n){var r=t().walletAdapters[n].adapter();r.connect().then((function(t){var n;console.log(t),e({address:null===(n=r.publicKey)||void 0===n?void 0:n.toBase58(),status:"connected",balance:""})})),r.on("connect",Object(g.a)(x.a.mark((function n(){var r,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=new w.Connection(w.clusterApiUrl("mainnet-beta"),"confirmed"),null!==(i=t().wallet.publicKey)){n.next=4;break}return n.abrupt("return");case 4:r.getAccountInfo(i).then((function(t){e(null===t?{balance:"0"}:{balance:String(t.lamports/w.LAMPORTS_PER_SOL)})}));case 5:case"end":return n.stop()}}),n)})))),r.on("disconnect",(function(){e({status:"disconnected"})})),r.on("error",(function(){e({status:"error"})})),r.on("ready",(function(){console.log(r)})),console.log(r),e({wallet:r})}}})),S=n(21),C={icon:S.D,path:"/wallet/",title:"Wallet",component:function(){var e=k(),t=e.wallet,n=e.connect,r=e.address,i=e.status,o=e.error,c=e.balance;return Object(O.jsxs)(a.o,{children:[Object(O.jsxs)(a.d,{title:"Solana Wallet",titleColor:"tertiary",headerColor:"light",children:[Object(O.jsx)(a.j,{}),Object(O.jsxs)(a.l,{children:[Object(O.jsxs)(a.i,{children:[Object(O.jsx)(a.k,{children:"Status:"}),Object(O.jsx)(a.e,{color:"error"===i?"danger":"connected"===i?"primary":"medium",children:i})]}),o&&(null===o||void 0===o?void 0:o.message),"connected"===i&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(a.i,{children:[Object(O.jsx)(a.k,{children:"Account:"}),Object(O.jsx)(a.c,{slot:"end",children:r})]}),Object(O.jsxs)(a.i,{children:[Object(O.jsx)(a.k,{children:"Balance:"}),Object(O.jsx)(a.c,{slot:"end",children:c?Object(O.jsx)(a.s,{color:"0"===c?"danger":"favorite",children:c}):Object(O.jsx)(a.r,{})})]})]})]})]}),"connected"===i&&Object(O.jsx)(a.b,{expand:"full",fill:"outline",color:"medium",onClick:function(){return null===t||void 0===t?void 0:t.disconnect()},children:"disconnect"}),"disconnected"===i&&Object(O.jsx)(a.b,{expand:"full",onClick:function(){n("phantom")},children:"Connect Wallet"})]})},exact:!0},A=[C],W=n(23),F=n(35),I=function(e){var t=e.account;return Object(O.jsx)(a.i,{routerLink:Object(a.t)(L,{id:t.owner}),children:Object(O.jsx)(a.c,{slot:"start",children:Object(O.jsx)(a.s,{children:t.alias})})})},L={icon:S.w,path:"/accounts/:id",title:"Account",component:function(){var e=Object(F.f)().id,t=h((function(t){return(0,t.retrieve)(e)}));return Object(O.jsx)(a.o,{children:Object(O.jsx)(a.f,{center:!0,children:Object(O.jsx)(a.d,{title:t.alias})})})},dynamic:!0},T={icon:S.v,path:"/players",title:"Players",component:function(){var e=h((function(e){return e.all()}));return Object(O.jsx)(a.o,{children:Object(O.jsx)(a.f,{center:!0,children:Object(O.jsx)(a.d,{title:"Players online",titleColor:"favorite",headerColor:"light",children:Object(O.jsx)(a.l,{children:e.map((function(e){return Object(O.jsx)(I,{account:e})}))})})})})}},E=[L,T],$=function(e){var t=e.item;return Object(O.jsx)(a.i,{routerLink:Object(a.t)(P,{uuid:t.uuid}),children:Object(O.jsx)(a.c,{slot:"start",children:Object(O.jsx)(a.s,{children:t.name})})})},D=function(){var e=u((function(e){return e.all()}));return Object(O.jsx)(a.l,{children:e.map((function(e){return Object(O.jsx)($,{item:e},e.uuid)}))})},P={icon:"",path:"/inventory-item/:uuid",title:"",component:function(){var e=Object(F.f)().uuid,t=u((function(t){return(0,t.retrieve)(e)}));return console.log(e),Object(O.jsx)(a.o,{children:Object(O.jsx)(a.f,{center:!0,children:t&&Object(O.jsx)(a.d,{headerColor:"tertiary",title:t.name,children:t.description})})})},dynamic:!0},q={icon:S.s,path:"/inventory",title:"Inventory",component:function(){var e=u().insert;return Object(O.jsx)(a.o,{children:Object(O.jsx)(a.f,{center:!0,children:Object(O.jsxs)(a.d,{title:"Inventory",titleColor:"tertiary",headerColor:"light",children:[Object(O.jsx)(D,{}),Object(O.jsx)(a.j,{}),Object(O.jsx)(a.b,{onClick:function(){e("0",{model:"g",name:"Test item",type:"",uuid:"0",description:"test inventory"})},expand:"full",children:"Add to Inventory"})]})})})}},B=[P,q],M=n(50),N=n(328),R=n(707),U=n(709),G=n(6),z=n(708),H=function(e){var t=e.entity,n=Object(M.d)(N.a,t.model);return Object(O.jsx)("primitive",{args:Object(W.a)(t.offset.position),object:n.scene})},J=function(e){var t=e.entities;return Object(O.jsx)(O.Fragment,{children:t.map((function(e){return Object(O.jsx)(H,{entity:e},e.uuid)}))})},K=function(e){var t=e.entities,n=Object(r.useRef)(),o=i.a.useState((function(){return new G.Scene})),c=Object(m.a)(o,1)[0],s=Object(M.e)().size,a=Object(R.a)(s.height,s.width);return Object(M.c)((function(e){var t=e.gl;n.current&&(t.setRenderTarget(a),t.render(c,n.current),t.setRenderTarget(null))})),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z.a,{args:[14,14,12],children:Object(O.jsx)("meshBasicMaterial",{map:a.texture})}),Object(M.b)(Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J,{entities:t}),Object(O.jsx)("perspectiveCamera",{position:[0,20,20],ref:n}),Object(O.jsx)(U.a,{camera:n.current,enablePan:!0,enableZoom:!0,enableRotate:!0})]}),c)]})},Q=n(105),Y=n(132),Z=n(331),X=function(e){var t=e.world,n=Object(Z.usePosition)(!0),r=(n.latitude,n.longitude,(0,j().all)().map((function(e){return{coordinates:e.anchor.coordinates.slice(0,2),name:e.name,markerOffset:-25}})));return console.log(r),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(Y.ComposableMap,{children:[Object(O.jsx)(Y.Geographies,{geography:t.map,children:function(e){return e.geographies.map((function(e){return Object(O.jsx)(Y.Geography,{geography:e},e.rsmKey)}))}}),r.map((function(e){var t=e.name,n=e.coordinates,r=e.markerOffset;return Object(O.jsxs)(Y.Marker,{coordinates:n,children:[Object(O.jsx)("circle",{r:10,fill:"#F00",stroke:"#fff",strokeWidth:2}),Object(O.jsx)("text",{textAnchor:"middle",y:r,style:{fontFamily:"system-ui",fill:"#5D5A6D"},children:t})]},t)}))]})})},V=function(){var e=Object(F.f)().uuid,t=b((function(t){return t.find((function(t){return t.uuid===e}))})),n=j((function(e){return e.all()}));return Object(O.jsx)(a.o,{children:Object(O.jsx)(a.f,{center:!0,children:t&&Object(O.jsxs)(a.d,{headerColor:"tertiary",title:null===t||void 0===t?void 0:t.name,children:[n.map((function(e){return Object(O.jsx)(a.i,{routerLink:Object(a.t)(ne,{geohash:e.anchor.geohash}),children:e.name},e.uuid)})),Object(O.jsx)(a.j,{}),Object(O.jsx)(X,{world:t})]})})})},ee=function(){var e=b((function(e){return e.all()}));return Object(O.jsx)(a.o,{children:Object(O.jsx)(a.d,{headerColor:"light",subTitle:"Metaverse directory",children:Object(O.jsx)(a.l,{children:e.map((function(e){var t=e.uuid,n=e.name;return Object(O.jsx)(a.i,{routerLink:Object(a.t)(re,{uuid:t}),children:Object(O.jsx)(a.s,{children:n})},t)}))})})})},te={icon:"",path:"/mint/:uuid",title:"",component:function(){var e=Object(F.f)().id,t=Object(Q.a)((function(e){return e.setTitle}));return Object(r.useEffect)((function(){t("Mint "+e)})),Object(O.jsx)(a.o,{children:Object(O.jsx)(a.g,{onSubmit:function(e){console.log(e)},rootSchema:d,objectSchema:d.definitions.space_node,data:{}})})},dynamic:!0},ne={icon:S.C,path:"/space/:geohash",title:"",component:function(){var e=Object(F.f)().geohash,t=j((function(t){return t.retrieve(e)})).entities;return Object(O.jsx)(a.o,{children:Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)(a.m,{}),children:t&&Object(O.jsx)(M.a,{children:Object(O.jsx)(K,{entities:t})})})})},dynamic:!0},re={icon:S.p,path:"/world/:uuid",title:"",component:V,dynamic:!0},ie={icon:S.p,path:"/worlds/",title:"Worlds",component:ee,exact:!0},oe=[re,ie,ne,te],ce=[{icon:"",path:"/",title:"Dashboard",component:function(){var e=k((function(e){return e.status}));return Object(O.jsx)(a.o,{children:Object(O.jsxs)(a.f,{center:!0,children:[Object(O.jsx)(a.q,Object(s.a)({},ie)),Object(O.jsx)(a.q,Object(s.a)({},T)),"connected"===e&&Object(O.jsx)(a.q,Object(s.a)({},q))]})})},exact:!0}].concat(Object(W.a)(A),Object(W.a)(E),Object(W.a)(oe),Object(W.a)(B)),se={appId:"worldseed",version:"0.0.3",title:"World Seed",cache:f,darkMode:!0,about:"Its a world seed",sections:{"World Seed":[ie,T,q,C]},routes:ce,animated:!0,bottomBar:{hideNext:!0,end:function(){var e=Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("iframe",{title:"discord-login",src:"https://discord.com/widget?id=885998011258392638&theme=dark",frameBorder:"0",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})}),t=Object(r.useState)(!1),n=Object(m.a)(t,2),i=n[0],o=n[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(a.b,{color:"primary",onClick:function(){o(!0)},children:"Discord"}),Object(O.jsx)(a.n,{isOpen:i,children:e,onDismiss:function(){o(!1)}})]})},start:function(){var e=k().status;return Object(O.jsx)(a.b,{routerLink:C.path,color:"connected"!==e?"primary":"favorite",children:e})}},settings:{disabled:!0},serialization:{mode:"local"}},ae=function(){var e=j((function(e){return e.insert})),t=b((function(e){return e.insert}));return Object(r.useEffect)((function(){e("000",{description:"Its a great HQ BBY",anchor:{geohash:"000",coordinates:[-47,-15,0]},entities:[{name:"building",description:"",uuid:"asdasd",type:"model",characteristics:["grabbable","ownable"],anchor:{geohash:"000",coordinates:[70,73,0]},offset:{position:[3,2,0],rotation:[0,0,0,0]},model:"https://telesto.world/diamond.glb"}],uuid:"12739182731827398123",name:"Telesto HQ",type:"space"}),t("telesto",{description:"~ ~ a e s t h e t i c ~ ~",uuid:"telesto",name:"Telesto",map:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",type:"world"}),t("esperia",{description:"",uuid:"esperia",name:"Esperia",map:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",type:"world"})})),Object(O.jsx)(a.p,Object(s.a)({},se))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,725)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),o(e),c(e)}))};c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(ae,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),le()}},[[656,3,4]]]);
//# sourceMappingURL=main.1a4d0184.chunk.js.map